<!--        _                                           _ _ 
          (_)               ___                       | (_)
    __   ___  __ _ _ __    ( _ )    _ __ ___ _ __   __| |_ 
    \ \ / / |/ _` | '_ \   / _ \/\ | '__/ _ \ '_ \ / _` | |
     \ V /| | (_| | | | | | (_>  < | | |  __/ | | | (_| | |
      \_/ |_|\__,_|_| |_|  \___/\/ |_|  \___|_| |_|\__,_|_|

   [+] Murni ditulis oleh Alfian Dwi Nugraha & Rendi Dwi [+]
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Industri 4.0</title>

    <!-- font -->
    <link rel="stylesheet" href="assets/vendor/fontawesome/css/all.min.css">
    <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

    <!-- style -->
    <link rel="stylesheet" href="assets/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/dist/css/page.css">
    <link rel="stylesheet" href="assets/dist/css/styles.css">
</head>
<body>
    <div class="alert-screen">
        <div class="content">
            <h4>Layar terlalu kecil untuk menampilkan halaman.</h4>
            <svg style="max-height: 15vh" class="mt-3 mb-3" height="512pt" viewBox="0 0 512 512" width="100" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="m145.96875 423.246094h-36.707031l84.6875-84.375-21.171875-21.253906-84.476563 84.164062v-36.203125h-30v87.667969h87.667969zm0 0"/><path fill="#fff" d="m366.03125 423.246094v30h87.667969v-87.667969h-30v36.203125l-84.476563-84.164062-21.171875 21.253906 84.6875 84.375zm0 0"/><path fill="#fff" d="m88.300781 110.21875 84.476563 84.164062 21.171875-21.253906-84.6875-84.375h36.707031v-30h-87.667969v87.667969h30zm0 0"/><path fill="#fff" d="m339.222656 194.382812 84.476563-84.164062v36.203125h30v-87.667969h-87.667969v30h36.707031l-84.6875 84.375zm0 0"/><path fill="#fff" d="m0 0v512h512v-512zm482 482h-452v-452h452zm0 0"/></svg>
            <div class="text-white">Jika di smartphone, bisa mengubah ke mode landscape.</div>
        </div>
    </div>
    <header class="">
        <div class="custom-nav-toggle">
            <div class="custom-nav-toggle-bar"></div>
            <div class="custom-nav-toggle-bar"></div>
            <div class="custom-nav-toggle-bar"></div>
        </div>
        <div class="nav">
        </div>
    </header>
    <div class="logo">
        <svg width="252" height="82" viewBox="0 0 252 82" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M64.6724 36.421C66.625 38.3736 66.625 41.5395 64.6724 43.4921L61.1706 46.9939C57.2653 50.8992 50.9337 50.8992 47.0284 46.9939L43.5266 43.4921C41.574 41.5395 41.574 38.3736 43.5266 36.421L50.564 29.3836C52.5166 27.431 55.6824 27.431 57.635 29.3836L64.6724 36.421Z" fill="#F3F3F3"/><path fill="#fff" d="M40.942 67.7202C38.9894 69.6728 35.8236 69.6728 33.871 67.7202L30.3691 64.2184C26.4639 60.3131 26.4639 53.9815 30.3691 50.0762L33.871 46.5744C35.8236 44.6218 38.9894 44.6218 40.942 46.5744L47.9794 53.6118C49.932 55.5644 49.932 58.7302 47.9794 60.6828L40.942 67.7202Z" fill="#F3F3F3"/><path fill="#fff" d="M10.5355 44.3847C8.58292 42.4321 8.58291 39.2663 10.5355 37.3136L14.0374 33.8118C17.9426 29.9066 24.2743 29.9066 28.1795 33.8118L31.6813 37.3136C33.634 39.2663 33.634 42.4321 31.6813 44.3847L24.644 51.4221C22.6914 53.3747 19.5255 53.3747 17.5729 51.4221L10.5355 44.3847Z" fill="#F3F3F3"/><path fill="#fff" d="M34.3136 13.5355C36.2663 11.5829 39.4321 11.5829 41.3847 13.5355L44.8865 17.0374C48.7918 20.9426 48.7918 27.2743 44.8866 31.1795L41.3847 34.6813C39.4321 36.634 36.2663 36.634 34.3136 34.6813L27.2763 27.644C25.3237 25.6914 25.3237 22.5255 27.2763 20.5729L34.3136 13.5355Z" fill="#F3F3F3"/><path d="M106.219 59H100.562V42H88.6875V59H83.0312V25.5625C83.0312 23.6667 83.8438 22.0833 85.4688 20.8125C87.0104 19.5833 88.7396 18.9688 90.6562 18.9688H98.7812C100.656 18.9688 102.344 19.5833 103.844 20.8125C105.427 22.125 106.219 23.7083 106.219 25.5625V59ZM100.562 37.1875V26.5938C100.562 25.8438 100.344 25.2083 99.9062 24.6875C99.4896 24.1667 98.8854 23.9062 98.0938 23.9062H91.0312C90.2188 23.9062 89.625 24.1667 89.25 24.6875C88.875 25.2083 88.6875 25.8438 88.6875 26.5938V37.1875H100.562ZM133.719 59.125H127.844L119.562 41.8125H115.094V59.125H109.406V19.0625H124.844C126.885 19.0625 128.625 19.7292 130.062 21.0625C131.542 22.4167 132.281 24.125 132.281 26.1875V35.5625C132.281 38.5417 131.01 40.4792 128.469 41.375C127.677 41.6667 126.802 41.8125 125.844 41.8125L133.719 59.125ZM126.625 34.2188V27.2188C126.625 25.8229 126.083 24.8125 125 24.1875C124.667 24 124.281 23.9062 123.844 23.9062H115.094V36.9062H124.781C125.865 36.9062 126.458 36.3333 126.562 35.1875C126.604 34.875 126.625 34.5521 126.625 34.2188ZM159.5 19.0625C160.438 19.0625 160.969 19.5833 161.094 20.625V24.2188H151.844V59H146.125V24.2188H136.875V20.625C136.875 20.1667 137.031 19.7917 137.344 19.5C137.677 19.2083 138.062 19.0625 138.5 19.0625H159.5ZM185.406 59H171.906C169.969 59 168.24 58.3958 166.719 57.1875C165.094 55.9167 164.281 54.3438 164.281 52.4688V25.5625C164.281 23.6667 165.094 22.0833 166.719 20.8125C168.26 19.5833 169.99 18.9688 171.906 18.9688H185.406V23.9062H172.281C171.469 23.9062 170.875 24.1667 170.5 24.6875C170.125 25.2083 169.938 25.8438 169.938 26.5938V36.25H184.125V41.0625H169.938V51.4375C169.938 52.1875 170.125 52.8229 170.5 53.3438C170.875 53.8646 171.469 54.125 172.281 54.125H185.406V59ZM204.438 26.9375C204.438 24.9167 203.615 23.9062 201.969 23.9062H196.469C195.656 23.9062 195.062 24.1667 194.688 24.6875C194.312 25.2083 194.125 25.8438 194.125 26.5938V51.4375C194.125 52.1875 194.312 52.8229 194.688 53.3438C195.062 53.8646 195.656 54.125 196.469 54.125H201.969C203.573 54.125 204.396 53.1979 204.438 51.3438C204.438 50.8438 204.438 50.3646 204.438 49.9062H210.094V52.4688C210.094 54.3438 209.417 55.9062 208.062 57.1562C206.708 58.3854 205.115 59 203.281 59H196.094C194.156 59 192.427 58.3958 190.906 57.1875C189.281 55.9167 188.469 54.3438 188.469 52.4688V25.5625C188.469 23.6667 189.281 22.0833 190.906 20.8125C192.448 19.5833 194.177 18.9688 196.094 18.9688H203.281C205.135 18.9688 206.729 19.6042 208.062 20.875C209.417 22.1458 210.094 23.7083 210.094 25.5625V28.4375H204.438V26.9375ZM236.906 59H231.156V41.1875H218.844V59H213.094V20.625C213.094 20.2083 213.25 19.8438 213.562 19.5312C213.875 19.2188 214.24 19.0625 214.656 19.0625H218.844V36.2188H231.156V19.0625H235.344C235.76 19.0625 236.125 19.2188 236.438 19.5312C236.75 19.8438 236.906 20.2083 236.906 20.625V59Z" fill="#F3F3F3"/></svg>
    </div>

    <div class="section-bars">
        <div class="container-bars">
            <div class="bars bars--paused"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
            <div class="text-center text-white">Loading...</div>
        </div>
        <div class="footer">
            <div class="text-center mb-3">
                <img height="36" src="assets/images/chrome.svg" alt="">
                <img height="36" src="assets/images/audifonos.svg" alt="">
            </div>
            <span class="text-white text-mute">Disarankan menggunakan Chrome dan Earphone</span>
        </div>
    </div>

    <div id="app"></div>

    <div class="btn-group config-btn">
        <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-cogs"></i>
        </button>
        <div class="dropdown-menu dropdown-menu-right">
          <button onclick="mutedAudioNarator(this)" class="dropdown-item" type="button">Narator Audio : On</button>
          <button onclick="mutedAudioBg(this)" class="dropdown-item" type="button">Background Audio : On</button>
          <!-- <div class="dropdown-divider"></div>
          <button class="dropdown-item" type="button">Share on Facebook</button> -->
        </div>
    </div>
    

    <!-- script -->
    <script src="assets/vendor/jquery/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/dist/js/audio.js"></script>
    <script src="assets/dist/js/page.js"></script>
    <script src="assets/dist/js/resources.js"></script>
    <script src="assets/dist/js/scenes.js"></script>

    <script>
        $(document).ready(() => {
            let audio = [
                { name: 'bg', src: 'Sneaky_Rascal_-_David_Fesliyan.mp3' },
                { name: 'narator_scene_1', src: 'narator/1.mp3' },
                { name: 'narator_scene_2', src: 'narator/2.mp3' },
                { name: 'narator_scene_3', src: 'narator/3.mp3' },
                { name: 'narator_scene_4', src: 'narator/4.mp3' },
                { name: 'narator_scene_5', src: 'narator/5.mp3' },
                { name: 'narator_scene_6', src: 'narator/6.mp3' },
                { name: 'narator_scene_7', src: 'narator/7.mp3' }
            ];
            myaudio.onloaded(() => {
                startPage();
            });
            myaudio.load(audio);
        });

        let playBGAudioState = false;
        function playBGAudio() {
            if (playBGAudioState) return ;
            myaudio.get('bg').muted = true;
            myaudio.get('bg').play();
            myaudio.get('bg').muted = false;
            myaudio.get('bg').volume = 0.2;
            playBGAudioState = true;
            myaudio.get('bg').loop = true;
        }

        loader();
        function loader() {
            $('header').css('display', 'none');
            const bars = document.querySelectorAll('.bar');
            let intervalValue = 0;
            const delay = time => new Promise(resolve => setTimeout(resolve, time));
            [...bars].map((bar) => {
                delay(0).then(() => {
                    setTimeout(() => {
                        bar.style.animation = 'sound 500ms linear infinite alternate'
                    }, intervalValue += 100)
                })
            })
        }

        page.init({
            el: '#app', 
            scenes, 
            transition: 'fade', 
            withNavIndicator: true,
            delayBeforeChangeScene: 0,

            navIndicatorButtonPrev: '<i class="fa fa-chevron-left" />',
            navIndicatorButtonNext: '<i class="fa fa-chevron-right" />',
            navIndicatorButtonContent: (data) => { 
                if (data.scene.name == 'home') return '<i class="fa fa-home" />';
                // if (data.section.hasClass("active")) return data.index + " - " + data.scene.name;
                return (data.index);
            },
        });
        
        function startPage() {
            $('#app').css('display', 'none');
            setTimeout(() => main(), 5000)
        }

        function main() {
            let loader = $('<div class="container-bars"><div class="bars bars--paused"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div></div>')
            let app = $('#app');
            let btnStart = $('<button onclick="startPageNow()" class="btn btn-primary">Mulai Sekarang</button>');
            let container = $('<div class="text-center" />');

            $('.container-bars').fadeOut(); 
            container.append(btnStart);
            $('.section-bars').append(container);
        }
        
        function startPageNow() {
            page.build()
            $('.section-bars').fadeOut('slow', () => {
                $('#app').fadeIn('slow');
                $('.section-bars').remove()
                buildTopNav();
                $('header').css('display', 'block');
                // page.toScene(1);
            });
        }

        let mutedAudioBgState = false;
        function mutedAudioBg(el) {
            mutedAudioBgState = !mutedAudioBgState;
            myaudio.get('bg').muted = mutedAudioBgState;
            $(el).html('Background Audio : ' + (mutedAudioBgState ? 'Off' : 'On'))
            console.log("Mute Background Audio : " + mutedAudioBgState);
        }

        $('.custom-nav-toggle').on('click', () => { 
            $('header').addClass("tutup");
            setTimeout(() => {
                $('.custom-nav-toggle').toggleClass("animate");
                $('header').toggleClass("active");
                $('header').toggleClass("tutup");
            }, 200);
        });

        function tutupNavTop() {
            $('header').addClass("tutup");
            setTimeout(() => {
                $('.custom-nav-toggle').removeClass("animate");
                $('header').removeClass("active");
                $('header').removeClass("tutup");
            }, 200);
        }

        function buildTopNav() {
            let scenes = page.getScenes();
            let nav = $('header .nav');
            let i = 0;
            scenes.forEach(scene => {
                nav.append(`<div onclick="page.toScene(${i});tutupNavTop();" class="item" style="background: ${scene.bgColor};"><span>${scene.title}</span></div>`);
                i++;
            });
        }
        
        $(window).resize(function() {
            checkScreen();
        });
        checkScreen();
        function checkScreen() {
            if ($(window).width() < 770) {
                $('.alert-screen').css("display", "block");
            } else {
                $('.alert-screen').css("display", "none");
            }
        }
    </script>
</body>
</html>